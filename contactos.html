<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://unpkg.com/tailwindcss@^2.2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <meta charset="utf-8" />
    <title>Contactos</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="imagenes/EG.png" width="150%">
    <link rel="stylesheet" href="estilos.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap');
      </style>
</head>
<body class="bg-gray-200">
 <!--Navbar-->
    <nav class="navbar navbar-expand-lg py-2">
        <div class="container1"><a href="index.html" class="navbar-brand text-uppercase font-weight-bold"><img src="imagenes/EG.png" class="logo"></a>
            <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right"><i class="fa fa-bars"></i></button>
            
            <div id="navbarSupportedContent" class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a href="index.html" class="nav-link text-uppercase font-weight-bold"><i class="bi bi-house-door"></i> Home <span class="sr-only">(current)</span></a></li>
                    <li class="nav-item"><a href="tutorial.html" class="nav-link text-uppercase font-weight-bold"><i class="bi bi-list-task"></i> Tutorial</a></li>
                    <li class="nav-item active"><a href="contactos.html" class="nav-link text-uppercase font-weight-bold"><i class="bi bi-person"></i> Contacto</a></li>
                </ul>

            </div>
        </div>
    </nav>
<div class="formulario">

<div class="flex items-center min-h-screen bg-gray-200 dark:bg-gray-900">
  <div class="container mx-auto">
      <div class="max-w-md mx-auto my-10 bg-white p-5 rounded-md shadow-sm">
          <div class="text-center">
              <h1 class="my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200">Contactanos</h1>
              <p class="text-gray-400 dark:text-gray-400">Completa los campos a continuacion para enviarnos un mensaje/sugerencia/observacion.</p>
          </div>
          <div class="m-7">
              <form action="https://api.web3forms.com/submit" method="POST" id="form">

                  <input type="hidden" name="apikey" value="5e6d49b3-3e27-4c50-94d9-06a6860d5e86">
                  <input type="hidden" name="subject" value="New Submission from Web3Forms">
                  <input type="checkbox" name="botcheck" id="" style="display: none;">


                  <div class="mb-6">
                      <label for="name" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Nombre y apellido</label>
                      <input type="text" name="name" id="name" placeholder="Nombre y apellido" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                      <label for="email" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Correo electronico</label>
                      <input type="email" name="email" id="email" placeholder="ejemplo@gmail.com" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                      <label for="message" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Su mensaje</label>
                      <textarea rows="5" name="message" id="message" placeholder="Su mensaje" class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" required></textarea>
                  </div>
                  <div class="mb-6">
                      <button type="submit" class="inline-block w-full px-3 py-4 text-xs font-medium leading-6 text-center text-indigo-500 uppercase transition bg-transparent border-2 border-indigo-500 rounded ripple hover:bg-indigo-100 focus:outline-none">Enviar</button>
                  </div>
                  <p class="text-base text-center text-gray-400" id="result">
                  </p>
              </form>
          </div>
      </div>
  </div>
</div>
</div>
<script>
const form = document.getElementById('form');
const result = document.getElementById('result');

form.addEventListener('submit', function(e) {
  const formData = new FormData(form);
  e.preventDefault();
  var object = {};
  formData.forEach((value, key) => {
      object[key] = value
  });
  var json = JSON.stringify(object);
  result.innerHTML = "Por favor espera..."

  fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
          },
          body: json
      })
      .then(async (response) => {
          let json = await response.json();
          if (response.status == 200) {
              result.innerHTML = json.message;
               result.classList.remove('text-gray-500');
              result.classList.add('text-green-500');
          } else {
              console.log(response);
              result.innerHTML = json.message;
               result.classList.remove('text-gray-500');
               result.classList.add('text-red-500');
          }
      })
      .catch(error => {
          console.log(error);
          result.innerHTML = "Algo salio mal!";
      })
      .then(function() {
          form.reset();
          setTimeout(() => {
              result.style.display = "none"; 
          }, 5000);
      });
})
</script>
    

    </body>
</html>
